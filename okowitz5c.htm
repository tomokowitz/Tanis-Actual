<html>

<head>
<link rel="stylesheet" href="okowitz2a.css" type="text/css" >
<title>Writing Nodes to the Dom 
</title>
<script>
function scriptZero()
{
	// here will write  directions for first button
	var para = document.createElement("P");                       // Create a <p> element
	var t = document.createTextNode("Click on the button below to start.");      // Create a text node
	para.appendChild(t);                                          // Append the text to <p>
	document.getElementById("firstInstructions").appendChild(para); 
//	changeUL();
}
function scriptOne()
{
	changeSelect();
	// here will write  directions for second button
	var para = document.createElement("P");                       // Create a <p> element
	var t = document.createTextNode("Select an option and click the next button.");      // Create a text node
	para.appendChild(t);                                          // Append the text to <p>
	document.getElementById("secondInstructions").appendChild(para); 

	// and populate unordered list
}
function scriptTwo()
{
		changeRadio()

// here will write  directions for second button
	var para = document.createElement("P");                       // Create a <p> element
	var t = document.createTextNode("Select the desired element and click the last button.");      // Create a text node
	para.appendChild(t);                                          // Append the text to <p>
	document.getElementById("thirdInstructions").appendChild(para); 

	// and populate select list


}
function scriptThree()
{
	// here will draw collage based on selected options
	makeCollage()

}
function getObj(elementID)
{
  return document.getElementById(elementID);
}

function changeSelect()
{
  var theNode = getObj("stories");
  
  // array of stories
  var stories=["Roadside Picnic", "Tanis", "Call of Cthuhlu"];
  var str;
  
  for (i = 0; i < 3; i++)
  {
  	/*var newStoryNode=document.createTextNode(stories[i]);
*/  	
	var newStoryOption = document.createElement("option");
	newStoryOption.text = stories[i];
//  	newStoryOption.appendChild(newStoryNode);
  	theNode.add(newStoryOption);
  }
  
  theNode.value = stories[0];
  
//  theNode.replaceChild(newGenreItem, theNode.childNodes[index]);

/*	var newStoryNode=document.createTextNode();
	var newGenreItem = document.createElement("LI");
  	newStoryItem.appendChild(newStoryNode);
*/
}


function changeRadio()
{
  	var theNode = getObj("ghostradio");
  	var story = getObj("stories").value;
  	var list;
  	switch(story)
  	{
  		case "Roadside Picnic":
  			list=["gravity","lovecraftian","dimension rift"];
  		break;
  		case "Tanis":
  			list=["losing time","cephalopods","carter"];

  		break;
		default:
			list=["beyond","Cthuhlu","carter"];

		break;
  	
  	}
  	
  	for (i = 0; i < 3; i++)
  	{
  	
  	
		var newRadioButton = document.createElement("INPUT");
		newRadioButton.setAttribute("type", "checkbox");
		newRadioButton.setAttribute("name", "aspects");
		newRadioButton.setAttribute("value", list[i]);
		theNode.appendChild(newRadioButton);
		theNode.appendChild(document.createTextNode(list[i])); 
  	}
  	/*var newRadioButton = document.createElement("INPUT");
   		newRadioButton.setAttribute("type", "radio");
   		newRadioButton.setAttribute("name", "teams");
   		newRadioButton.setAttribute("value", newTeam);
   		newRadioButton.setAttribute("onclick", "rooting(this)");

	var newRadioNode=document.createTextNode(???????);
	var newRadioItem = document.createElement("LI");
	
	
	
	
  newRadioItem.appendChild(newRadioNode);
  theNode.replaceChild(newRadioItem, theNode.childNodes[index]);
*/
}
function getCheckedBoxes(chkboxName)
{
	var checkboxes = document.getElementsByName(chkboxName);
  	var checkboxesChecked = [];
  	// loop over them all
  	for (var i=0; i<checkboxes.length; i++) {
     // And stick the checked ones onto an array...
     if (checkboxes[i].checked) {
        checkboxesChecked.push(checkboxes[i]);
     }
  }
  // Return the array if it is non-empty, or null
  return checkboxesChecked.length > 0 ? checkboxesChecked : null;
  }

function makeCollage()
{
  	var theNode = getObj("collage");
  	var story = getObj("stories").value;
  	// need to look at check boxes and get checked values
  	var boxesChecked = getCheckedBoxes("aspects");
  	for(var i=0;i<boxesChecked.length;i++)
  	{
  		var cbValue = boxesChecked[i].value;
  		var newCollageNode=document.createElement("img");
  	switch (cbValue)
  	{
  		case "gravity":
  			newCollageNode.src="Images/RoadsideGravity.jpg";
  		break;
  		case "lovecraftian":
  			newCollageNode.src="Images/LovecraftPortrait.jpg";

  		break;
  		case "dimension rift":
  			newCollageNode.src="Images/RoadsideZone.jpg";

  		break;

  		case "losing time":
  			newCollageNode.src="Images/DaliTime.jpg";
  		break;
  		case "cephalopods":
  			newCollageNode.src="Images/cephalopod2.jpg";

  		break;
		case "carter":
  			newCollageNode.src="Images/RandolphCarter.jpeg";

  		break;

  		case "beyond":
  			newCollageNode.src="Images/FromBeyond.jpg";

  		break;
  		case "Cthuhlu":
  			newCollageNode.src="Images/Cthulu.jpg";

  		break;

  		
  		default:
  			newCollageNode.src="Images/RandolphCarter2.jpg";

  		break;
  	}
  	theNode.appendChild(newCollageNode);
  	}
	
}



/* need to rename*/
/*function getChild(node, index)
// returns the index child of the node
// ignore text nodes

{
  count = -1;
  for (i = 0; i < node.childNodes.length; i++)
  { 
     if (node.childNodes[i].nodeType == 1) // 3 for textnode
 	{
    	count++;
    	if (count == index)
    	{
          return node.childNodes[i];
        }
 	}
  }
}
*/</script>
</head>

<body onload="scriptZero()">
<div id="firstInstructions"></div>
<br>

<br>
<input name="firstBtn" type="button" onclick="scriptOne()" value="click me first">
<br>
<div id="secondInstructions"></div>

<br>
<div>
		<select id="stories">
			
		</select>
	</div>
	<br>
<input name="secondBtn" type="button" onclick="scriptTwo()" value="click me next">

<br>
<div id="thirdInstructions"></div>
<br>
<div id="ghostradio">
		
	</div>
	<br>
<input name="thirdBtn" type="button" onclick="scriptThree()" value="click me last">
<br>

<div>

<!--	<ul id="stories">
	
	</ul>
-->
</div>
	
	
	<div id="collage">
	</div>
	<A href="TanisHome.htm" target=main > Back to main page </A>

</body>

</html>
